<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
    <!-- Modal Structure -->
    <div th:fragment="view-detail">
        <div class="modal fade" id="viewCitizenModal" tabindex="-1" aria-labelledby="viewCitizenModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content" id="viewCitizenModalContent">
                    <!-- Content will be loaded here via AJAX -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Content Fragment -->
    <div th:fragment="modal-content">
        <div class="modal-header bg-primary text-white">
            <h5 class="modal-title" id="viewCitizenModalLabel">
                <i class="bi bi-person-badge"></i> Thông tin chi tiết công dân
            </h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <!-- Avatar -->
            <div class="text-center mb-4">
                <div class="avatar-circle bg-primary text-white d-inline-flex align-items-center justify-content-center"
                    style="width: 80px; height: 80px; border-radius: 50%; font-size: 32px; font-weight: bold;">
                    <span th:text="${#strings.substring(citizen.fullName, 0, 1)}">N</span>
                </div>
                <h5 class="mt-3 mb-0" th:text="${citizen.fullName}">Nguyễn Văn A</h5>
                <p class="text-muted">
                    <span class="badge bg-light text-dark" th:text="${citizen.nationalId}">001234567890</span>
                </p>
            </div>

            <!-- Thông tin chi tiết dạng table -->
            <table class="table table-bordered table-hover">
                <tbody>
                    <tr>
                        <td class="fw-bold bg-light" style="width: 35%;">
                            <i class="bi bi-person-circle text-primary"></i> Họ và tên
                        </td>
                        <td th:text="${citizen.fullName}">Nguyễn Văn A</td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-credit-card-2-front text-primary"></i> CCCD/CMND
                        </td>
                        <td>
                            <span class="badge bg-info" th:text="${citizen.nationalId}">001234567890</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-envelope text-primary"></i> Email
                        </td>
                        <td th:text="${citizen.email}">example@email.com</td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-telephone text-primary"></i> Số điện thoại
                        </td>
                        <td th:text="${citizen.phone}">0987654321</td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-gender-ambiguous text-primary"></i> Giới tính
                        </td>
                        <td>
                            <span th:if="${citizen.gender.name() == 'MALE'}" class="badge bg-info">
                                <i class="bi bi-gender-male"></i> Nam
                            </span>
                            <span th:if="${citizen.gender.name() == 'FEMALE'}" class="badge bg-danger">
                                <i class="bi bi-gender-female"></i> Nữ
                            </span>
                            <span th:if="${citizen.gender.name() == 'OTHER'}" class="badge bg-secondary">
                                <i class="bi bi-gender-ambiguous"></i> Khác
                            </span>
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-calendar-date text-primary"></i> Ngày sinh
                        </td>
                        <td th:text="${citizen.dob}">01/01/1990</td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-geo-alt text-primary"></i> Địa chỉ
                        </td>
                        <td th:text="${citizen.address ?: 'Chưa cập nhật'}">123 Đường ABC, Quận XYZ</td>
                    </tr>
                    <tr>
                        <td colspan="2" class="bg-light text-center fw-bold text-muted">
                            <i class="bi bi-info-circle"></i> Thông tin hệ thống
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-clock-history text-primary"></i> Ngày tạo
                        </td>
                        <td th:text="${citizen.createdAt}">01/01/2024 10:00:00
                        </td>
                    </tr>
                    <tr>
                        <td class="fw-bold bg-light">
                            <i class="bi bi-arrow-repeat text-primary"></i> Cập nhật lần cuối
                        </td>
                        <td th:text="${citizen.updatedAt}">01/01/2024 10:00:00
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                <i class="bi bi-x-circle"></i> Đóng
            </button>
            <a th:href="@{/admin/citizens/edit/{id}(id=${citizen.id})}" class="btn btn-primary">
                <i class="bi bi-pencil"></i> Chỉnh sửa
            </a>
        </div>
    </div>

</body>

</html>